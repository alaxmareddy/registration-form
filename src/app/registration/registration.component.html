<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="username">Username:</label>
    <input id="username" formControlName="username" required />
    <div *ngIf="registrationForm.get('username')?.invalid && registrationForm.get('username')?.touched">
      <small *ngIf="registrationForm.get('username')?.errors?.required">Username is required.</small>
      <small *ngIf="registrationForm.get('username')?.errors?.pattern">Username must be lowercase letters or numbers, max 20 characters.</small>
      <small *ngIf="errorMessage">{{ errorMessage }}</small>
    </div>
  </div>

  <div>
    <label for="country">Country:</label>
    <select id="country" formControlName="country">
      <option value="" disabled>Select your country</option>
      <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
    </select>
    <div *ngIf="registrationForm.get('country')?.invalid && registrationForm.get('country')?.touched">
      <small>Country is required.</small>
    </div>
  </div>

  <button type="submit" [disabled]="registrationForm.invalid || !usernameAvailable">Submit</button>
</form>
